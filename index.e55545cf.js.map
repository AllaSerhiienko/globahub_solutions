{"mappings":"ACEA,SAAS,gBAAgB,CAAC,mBAAoB,WAC7C,IAAM,EAAO,SAAS,cAAc,CAAC,QAGrC,eAAe,EAAS,CAAC,EACxB,EAAE,cAAc,GAEhB,IAAI,EAAQ,AAwBb,SAAsB,CAAI,EACzB,IAAI,EAAQ,EACR,EAAU,SAAS,gBAAgB,CAAC,SAExC,IAAK,IAAI,EAAQ,EAAG,EAAQ,EAAQ,MAAM,CAAE,IAAS,CACpD,IAAM,EAAQ,CAAO,CAAC,EAAM,CAsB7B,AArBiB,EAqBX,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,UACrC,AAtBiB,EAsBX,SAAS,CAAC,MAAM,CAAC,UApBlB,EAAM,SAAS,CAAC,QAAQ,CAAC,UAwBvB,CAAC,gDAAgD,IAAI,CAAC,AAvB7C,EAuBmD,KAAK,IAtBrE,EAAa,GACb,KAGmB,KAAhB,EAAM,KAAK,GACd,EAAa,GACb,IAGH,CACA,OAAO,CACR,EA7C0B,GAErB,EAAW,IAAI,SAAS,GAE5B,GAAI,AAAU,IAAV,EAAa,CAChB,EAAK,SAAS,CAAC,GAAG,CAAC,YACnB,IAAI,EAAW,MAAM,MAAM,eAAgB,CAC1C,OAAQ,OACR,KAAM,CACP,GACA,GAAI,EAAS,EAAE,CAAE,CAChB,IAAI,EAAS,MAAM,EAAS,IAAI,GAChC,MAAM,EAAO,OAAO,EACpB,YAAY,SAAS,CAAG,GACxB,EAAK,KAAK,GACV,EAAK,SAAS,CAAC,MAAM,CAAC,WACvB,MACC,MAAM,UACN,EAAK,SAAS,CAAC,MAAM,CAAC,WAExB,CACD,CAyBA,SAAS,EAAa,CAAK,EAC1B,EAAM,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,UAClC,EAAM,SAAS,CAAC,GAAG,CAAC,SACrB,CAtDA,EAAK,gBAAgB,CAAC,SAAU,EA+DjC,E,4D","sources":["<anon>","src/scripts/send-form.js"],"sourcesContent":["\"use strict\";\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    const form = document.getElementById(\"form\");\n    form.addEventListener(\"submit\", formSend);\n    async function formSend(e) {\n        e.preventDefault();\n        let error = formValidate(form);\n        let formData = new FormData(form);\n        if (error === 0) {\n            form.classList.add(\"_sending\");\n            let response = await fetch(\"sendmail.php\", {\n                method: \"POST\",\n                body: formData\n            });\n            if (response.ok) {\n                let result = await response.json();\n                alert(result.message);\n                formPreview.innerHTML = \"\";\n                form.reset();\n                form.classList.remove(\"_sending\");\n            } else {\n                alert(\"Error!\");\n                form.classList.remove(\"_sending\");\n            }\n        }\n    }\n    function formValidate(form) {\n        let error = 0;\n        let formReq = document.querySelectorAll(\"._req\");\n        for(let index = 0; index < formReq.length; index++){\n            const input = formReq[index];\n            formRemoveError(input);\n            if (input.classList.contains(\"_email\")) {\n                if (emailTest(input)) {\n                    formAddError(input);\n                    error++;\n                }\n            } else if (input.value === \"\") {\n                formAddError(input);\n                error++;\n            }\n        }\n        return error;\n    }\n    function formAddError(input) {\n        input.parentElement.classList.add(\"_error\");\n        input.classList.add(\"_error\");\n    }\n    function formRemoveError(input) {\n        input.parentElement.classList.remove(\"_error\");\n        input.classList.remove(\"_error\");\n    }\n    //Функция теста email\n    function emailTest(input) {\n        return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\n    }\n});\n\n//# sourceMappingURL=index.e55545cf.js.map\n","\"use strict\"\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\tconst form = document.getElementById('form');\r\n\tform.addEventListener('submit', formSend);\r\n\r\n\tasync function formSend(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet error = formValidate(form);\r\n\r\n\t\tlet formData = new FormData(form);\r\n\r\n\t\tif (error === 0) {\r\n\t\t\tform.classList.add('_sending');\r\n\t\t\tlet response = await fetch('sendmail.php', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: formData\r\n\t\t\t});\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tlet result = await response.json();\r\n\t\t\t\talert(result.message);\r\n\t\t\t\tformPreview.innerHTML = '';\r\n\t\t\t\tform.reset();\r\n\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Error!\");\r\n\t\t\t\tform.classList.remove('_sending');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction formValidate(form) {\r\n\t\tlet error = 0;\r\n\t\tlet formReq = document.querySelectorAll('._req');\r\n\r\n\t\tfor (let index = 0; index < formReq.length; index++) {\r\n\t\t\tconst input = formReq[index];\r\n\t\t\tformRemoveError(input);\r\n\r\n\t\t\tif (input.classList.contains('_email')) {\r\n\t\t\t\tif (emailTest(input)) {\r\n\t\t\t\t\tformAddError(input);\r\n\t\t\t\t\terror++;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (input.value === '') {\r\n\t\t\t\t\tformAddError(input);\r\n\t\t\t\t\terror++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn error;\r\n\t}\r\n\tfunction formAddError(input) {\r\n\t\tinput.parentElement.classList.add('_error');\r\n\t\tinput.classList.add('_error');\r\n\t}\r\n\tfunction formRemoveError(input) {\r\n\t\tinput.parentElement.classList.remove('_error');\r\n\t\tinput.classList.remove('_error');\r\n\t}\r\n\t//Функция теста email\r\n\tfunction emailTest(input) {\r\n\t\treturn !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n\t}\r\n});"],"names":["document","addEventListener","form","getElementById","formSend","e","preventDefault","error","formValidate","formReq","querySelectorAll","index","length","input","parentElement","classList","remove","contains","test","value","formAddError","formData","FormData","add","response","fetch","method","body","ok","result","json","alert","message","formPreview","innerHTML","reset"],"version":3,"file":"index.e55545cf.js.map"}